<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>StoryPlate_Login</title>
    <link rel="stylesheet" th:href="@{/resource/css/login.css}"/>
    <link rel="stylesheet" th:href="@{/resource/css/modal.css}"/>
</head>

<body>
<div class="container">
    <div class="container_wrap">
        <div class="header_login">
            <div class="logo_login">
                <a th:onclick="|location.href='@{/}'|"><span class="btn_home">스토리플레이트</span></a>
            </div>
        </div>
        <div class="content">
            <div class="login_wrap">
                <div class="login_container">
                    <form action="/login" th:action="@{/member/login}" th:object="${memberDto}" method="post">
                        <div class="login_form">
                            <div class="login_id">
                                <div class="icon_wrap">
                                    <div class="icon_id">
                                <span>
                                    <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="6" r="4" stroke="#1C274C" stroke-width="1.5"/>
                                        <path d="M19.9975 18C20 17.8358 20 17.669 20 17.5C20 15.0147 16.4183 13 12 13C7.58172 13 4 15.0147 4 17.5C4 19.9853 4 22 12 22C14.231 22 15.8398 21.8433 17 21.5634"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </span>
                                        <input type="text" class="input_text" id="loginId" th:field="*{memberId}" placeholder="아이디">
                                        <button type="button" th:onclick="|document.getElementById('loginId').value='';|"
                                                style="background: transparent; border: none; outline: none;">
                                            <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" fill="white"/>
                                                <path d="M7 17L16.8995 7.10051" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M7 7.00001L16.8995 16.8995" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="login_pw">
                                <div class="icon_wrap">
                                    <div class="icon_id">
                                <span>
                                    <svg width="20px" height="20x" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="16" r="2" stroke="#1C274C" stroke-width="1.5"/>
                                        <path d="M6 10V8C6 7.65929 6.0284 7.32521 6.08296 7M18 10V8C18 4.68629 15.3137 2 12 2C10.208 2 8.59942 2.78563 7.5 4.03126"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M11 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H15"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </span>
                                        <input type="password" class="input_text" id="password" th:field="*{memberPwd}" placeholder="비밀번호">
                                        <button class="btn_x" type="button" th:onclick="|document.getElementById('password').value='';|"
                                                style="background: transparent; border: none; outline: none;">
                                            <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" fill="white"/>
                                                <path d="M7 17L16.8995 7.10051" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M7 7.00001L16.8995 16.8995" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="btn_login">
                            <button type="submit" class="btn_click" id="loginButton">
                                <span class="btn_loginTxt">로그인</span>
                            </button>
                            <div id="myModal" class="modal">
                                <div class="modal-content">
                                    <span class="close" id="closeModal">&times;</span>
                                    <p id="modalMessage">아이디 또는 비밀번호를 확인하세요.</p>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>


    </div>
</div>


<script>
    // 로그인 버튼 클릭 시 서버 요청 시뮬레이션 (실제로는 서버 요청을 보내야 함)
  document.getElementById("loginButton").onclick = function() {
      // 여기에서 실제 로그인 로직을 수행하고 결과를 확인합니다.
      const isLoginSuccessful = Math.random() < 0.5; // 랜덤 결과로 시뮬레이션

      if (!isLoginSuccessful) {
          // 로그인 실패 시 모달 창 열고 실패 메시지 표시
          document.getElementById("myModal").style.display = "block";
          document.getElementById("modalMessage").textContent = "아이디 또는 비밀번호를 확인하세요.";
      }
  }

  // 모달 닫기
  document.getElementById("closeModal").onclick = function() {
      document.getElementById("myModal").style.display = "none";
  }

  // 모달 외부 클릭 시 닫기
  window.onclick = function(event) {
      if (event.target == document.getElementById("myModal")) {
          document.getElementById("myModal").style.display = "none";
      }
  }

</script>

</body>

</html>
