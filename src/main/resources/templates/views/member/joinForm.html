<!DOCTYPE html>
<html lang="ko">
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>StoryPlate_회원가입</title>
    <link rel="stylesheet" th:href="@{/resource/css/login.css}"/>
    <link rel="stylesheet" th:href="@{/resource/css/join.css}"/>
<style>
    .error-message{
        display: inline-block;
        font-size: 12px;
        line-height: 16px;
        color: #ff003e;
        vertical-align: middle;
        margin-top: 10px;
    }
</style>
</head>

<body>
<div class="container">
    <div class="container_wrap">
        <div class="header_join">
            <div class="logo_join">
                <a th:onclick="|location.href='@{/}'|"><span>스토리플레이트</span></a>
            </div>
        </div>
        <div class="content">

            <div class="join_wrap">
                <div class="join_container">
                    <form action="" th:action="@{/member/add}" th:object="${memberDto}" method="post">
                        <div class="join_form">
                            <div class="join_name">
                                <div class="icon_wrap">
                                    <div class="icon_id">
                                <span>
                                    <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="9" cy="9" r="2" stroke="#1C274C" stroke-width="1.5"/>
                                        <path d="M13 15C13 16.1046 13 17 9 17C5 17 5 16.1046 5 15C5 13.8954 6.79086 13 9 13C11.2091 13 13 13.8954 13 15Z"
                                              stroke="#1C274C" stroke-width="1.5"/>
                                        <path d="M22 12C22 15.7712 22 17.6569 20.8284 18.8284C19.6569 20 17.7712 20 14 20H10C6.22876 20 4.34315 20 3.17157 18.8284C2 17.6569 2 15.7712 2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C21.298 5.64118 21.5794 6.2255 21.748 7"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M19 12H15" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M19 9H14" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M19 15H16" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </span>

                                        <input type="text" class="input_text" id="name" th:field="*{memberName}"
                                               th:value="${username}"
                                               placeholder="이름">
                                        <button type="button"
                                                th:onclick="|document.getElementById('name').value='';|"
                                                style="background: transparent; border: none; outline: none;">
                                            <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" fill="white"/>
                                                <path d="M7 17L16.8995 7.10051" stroke="#000000" stroke-linecap="round"
                                                      stroke-linejoin="round"/>
                                                <path d="M7 7.00001L16.8995 16.8995" stroke="#000000"
                                                      stroke-linecap="round"
                                                      stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="join_id">
                                <div class="icon_wrap">
                                    <div class="icon_id">
                                <span>
                                    <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="6" r="4" stroke="#1C274C" stroke-width="1.5"/>
                                        <path d="M19.9975 18C20 17.8358 20 17.669 20 17.5C20 15.0147 16.4183 13 12 13C7.58172 13 4 15.0147 4 17.5C4 19.9853 4 22 12 22C14.231 22 15.8398 21.8433 17 21.5634"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </span>

                                        <input type="text" class="input_text" id="loginId" th:field="*{memberId}"
                                               placeholder="아이디">
                                        <button type="button"
                                                th:onclick="|document.getElementById('loginId').value='';|"
                                                style="background: transparent; border: none; outline: none;">
                                            <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" fill="white"/>
                                                <path d="M7 17L16.8995 7.10051" stroke="#000000" stroke-linecap="round"
                                                      stroke-linejoin="round"/>
                                                <path d="M7 7.00001L16.8995 16.8995" stroke="#000000"
                                                      stroke-linecap="round"
                                                      stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="join_pw">
                                <div class="icon_wrap">
                                    <div class="icon_id">
                                <span>
                                    <svg width="20px" height="20x" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="12" cy="16" r="2" stroke="#1C274C" stroke-width="1.5"/>
                                        <path d="M6 10V8C6 7.65929 6.0284 7.32521 6.08296 7M18 10V8C18 4.68629 15.3137 2 12 2C10.208 2 8.59942 2.78563 7.5 4.03126"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                        <path d="M11 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H15"
                                              stroke="#1C274C" stroke-width="1.5" stroke-linecap="round"/>
                                    </svg>
                                </span>
                                        <input type="password" class="input_text" id="password" th:field="*{memberPwd}"
                                               placeholder="비밀번호">

                                        <button class="btn_x" type="button"
                                                th:onclick="|document.getElementById('password').value='';|"
                                                style="background: transparent; border: none; outline: none;">
                                            <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <rect width="24" height="24" fill="white"/>
                                                <path d="M7 17L16.8995 7.10051" stroke="#000000" stroke-linecap="round"
                                                      stroke-linejoin="round"/>
                                                <path d="M7 7.00001L16.8995 16.8995" stroke="#000000"
                                                      stroke-linecap="round"
                                                      stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!-- 에러 메시지 표시 -->
                            <div class="error-message">
                                <div th:if="${#fields.hasErrors('memberName')}">이름을 입력하세요.</div>
                                <div th:if="${#fields.hasErrors('memberId')}">아이디를 입력하세요.</div>
                                <div th:if="${#fields.hasErrors('memberPwd')}">비밀번호를 입력하세요.</div>
                            </div>
                        </div>

                        <div class="btn_join">
                            <button type="submit" class="btn_click">
                                <span class="btn_joinTxt">회원가입</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelector('form').addEventListener('submit', function (event) {
        const nameField = document.getElementById('name');
        const loginIdField = document.getElementById('loginId');
        const passwordField = document.getElementById('password');
        const errorMessages = document.querySelectorAll('.error-message div');

        // 모든 에러 메시지를 숨깁니다.
        errorMessages.forEach(function (errorMessage) {
            errorMessage.style.display = 'none';
        });

        let hasError = false; // 에러 여부를 나타내는 변수

        // 이름 필드가 비어 있는 경우
        if (nameField.value.trim() === '') {
            errorMessages[0].style.display = 'block';
            hasError = true;
        }

        // 이름 필드는 비어 있지 않지만 아이디 필드가 비어 있는 경우
        if (loginIdField.value.trim() === '' && !hasError) {
            errorMessages[1].style.display = 'block';
            hasError = true;
        }

        // 이름과 아이디 필드는 모두 비어 있지 않지만 비밀번호 필드가 비어 있는 경우
        if (passwordField.value.trim() === '' && !hasError) {
            errorMessages[2].style.display = 'block';
            hasError = true;
        }

        // 에러가 있을 경우 폼 제출을 방지합니다.
        if (hasError) {
            event.preventDefault();
        }
    });
</script>








</body>

</html>
